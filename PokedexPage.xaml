<Page 
    x:Class="ProyectoUWPenBlanco.PokedexPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ProyectoUWPenBlanco"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Padding="20">

            <!-- Título Pokédex -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                <Image Source="AssetsGrupal/pokeball.png" Height="40" Width="40" Margin="0,0,10,0"/>
                <TextBlock Text="Pokédex" FontSize="36" FontWeight="Bold" Foreground="DarkSlateBlue"/>
            </StackPanel>
            
            <!-- Barra de búsqueda por nombre -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20" Spacing="30">
                <!-- Bloque búsqueda -->
                <StackPanel>
                    <TextBlock Text="Buscar por nombre:" FontSize="14" Margin="0,0,0,5" Foreground="DarkSlateGray"/>
                    <TextBox x:Name="tbBusqueda"
                 Width="220"
                 PlaceholderText="Ej. Pikachu"
                 TextChanged="tbBusqueda_TextChanged"
                 BorderBrush="DarkSlateBlue"
                 BorderThickness="1"
                 CornerRadius="6"/>
                </StackPanel>

                <!-- Bloque filtro tipo -->
                <StackPanel>
                    <TextBlock Text="Filtrar por tipo:" FontSize="14" Margin="0,0,0,5" Foreground="DarkSlateGray"/>
                    <ComboBox x:Name="cbTipos"
                  Width="220"
                  SelectionChanged="cbTipos_SelectionChanged"
                  BorderBrush="DarkSlateBlue"
                  BorderThickness="1"
                  CornerRadius="6"/>
                </StackPanel>
            </StackPanel>


        
            

            <!-- GridView de Pokémon -->
            <GridView x:Name="gvPokedex"
                      IsItemClickEnabled="True"
                      ItemClick="gvPokedex_ItemClick"
                      SelectionMode="None"
                      ItemsSource="{x:Bind ListaPokemon, Mode=OneWay}"
                      HorizontalAlignment="Center"
                      MaxWidth="1100"
                      Padding="10">
                <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="6"/>
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>

                <GridView.ItemTemplate>
                    <DataTemplate x:DataType="local:Pokemon">
                        <Border BorderBrush="DarkSlateBlue"
                                BorderThickness="2"
                                CornerRadius="12"
                                Background="#FFF5F5F5"
                                Padding="10"
                                Margin="5"
                                Width="160"
                                Height="200">
                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Spacing="8">
                                <Image Source="{x:Bind Imagen}" Width="100" Height="100" Stretch="Uniform"/>
                                <TextBlock Text="{x:Bind Nombre}" FontSize="18" FontWeight="Bold" TextAlignment="Center"/>
                                <TextBlock Text="{x:Bind Tipo}" FontSize="14" Foreground="DarkSlateGray" TextAlignment="Center" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </GridView.ItemTemplate>
            </GridView>

        </StackPanel>
    </ScrollViewer>
</Page>
