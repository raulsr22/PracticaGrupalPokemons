<Page
    x:Class="ProyectoUWPenBlanco.SeleccionCombateIAPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ProyectoUWPenBlanco">

    <Grid Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Título -->
        <TextBlock Grid.Row="0" Text="Selecciona tu Pokémon para combatir contra la máquina"
                   FontSize="32" FontWeight="Bold"
                   TextAlignment="Center" HorizontalAlignment="Center" Margin="0,10"/>

        <!-- Selección de Pokémon -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Jugador -->
            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                <TextBlock Text="Tu Pokémon (Jugador)" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <GridView x:Name="gvJugador1"
                          ItemsSource="{x:Bind ListaJugador1}"
                          SelectionMode="Single"
                          IsItemClickEnabled="True"
                          ItemClick="SeleccionJugador1_Click"
                          Width="400"
                          Height="500">
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="2"/>
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                    <GridView.ItemTemplate>
                        <DataTemplate x:DataType="local:Pokemon">
                            <StackPanel Margin="10" Width="150" HorizontalAlignment="Center">
                                <Image Source="{x:Bind Imagen}" Width="120" Height="120"/>
                                <TextBlock Text="{x:Bind Nombre}" FontSize="16" TextAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </GridView.ItemTemplate>
                </GridView>
            </StackPanel>

            <!-- Separador -->
            <Rectangle Grid.Column="1" Width="1" Fill="Gray" Margin="20"/>

            <!-- IA -->
            <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                <TextBlock Text="Pokémon de la Máquina (elegido aleatoriamente)" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,10"/>
                <GridView x:Name="gvJugador2"
                          ItemsSource="{x:Bind ListaJugador2}"
                          SelectionMode="None"
                          Width="400"
                          Height="500"
                          IsEnabled="False"
                          Opacity="0.4">
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="2"/>
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                    <GridView.ItemTemplate>
                        <DataTemplate x:DataType="local:Pokemon">
                            <StackPanel Margin="10" Width="150" HorizontalAlignment="Center">
                                <Image Source="{x:Bind Imagen}" Width="120" Height="120"/>
                                <TextBlock Text="{x:Bind Nombre}" FontSize="16" TextAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </GridView.ItemTemplate>
                </GridView>
            </StackPanel>
        </Grid>

        <!-- Texto IA -->
        <TextBlock Grid.Row="2" x:Name="txtIASeleccion"
                   Text=""
                   FontSize="20"
                   FontWeight="SemiBold"
                   HorizontalAlignment="Center"
                   Margin="0,10,0,0"/>

        <!-- Botón inferior -->
        <Button Grid.Row="3" x:Name="btnComenzar"
                Content="Comenzar combate"
                Click="btnComenzar_Click"
                FontSize="20"
                Width="300"
                Height="50"
                HorizontalAlignment="Center"
                Margin="0,20"
                IsEnabled="False"
                Background="#4CAF50"
                Foreground="White"
                CornerRadius="10"/>
    </Grid>
</Page>
